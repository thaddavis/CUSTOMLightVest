<div class="row">
  <div class="col-md-10 col-md-offset-1">
    <br/>
    <h2 class="text-center">Card Info </h2>
    <br/>
    <p>You currently have <%= pluralize(!@cards ? 0 : @cards.count, "card") %> on file with us: </p>
  </div>

  <% if @cards %>
    <% @cards.each do |c| %>
      <div class="col-md-10 col-md-offset-1 well">
        <div class="">
          <label class="control-label">Card With Expiration DateTime (MM/YYYY): </label>
          <br/>
          <%= c.exp_month %>
          <span> / </span>
          <%= c.exp_year %>
        </div>
        <label class="control-label">Card With Last 4 Digits: </label>
        <div class="form-group">
          **** **** **** <%= c.last4 %>
        </div>

        <%= link_to 'Cancel Subscription', cancel_subscription_path(), :id => "cancel_subscription",  :method => 'post', :data => { :confirm => 'Are you sure you want to cancel your subscription?' } %>

        <p style="font-size: 10px;">Canceling your subscription will remove your card from our system and will place you on our starter plan (which is free).</p>

      </div>
    <% end %>
  <% end %>
</div>

<div class="row">
  <div class="col-md-10 col-md-offset-1 well">
    <button type="button" class="btn btn-info btn-extra-round form-control" data-toggle="collapse" data-target="#add-credit-card-form">+ Add a card +</button>
    <br/>
    <div id="add-credit-card-form" class="collapse">
      <h3 class="text-center">Card Details</h3>
      <h4 class="text-center payment-errors"></h4>

      <div class='col-xs-12 form-group'>
          <label class="control-label" for="number">Card Number</label>
          <input type="text" class="form-control" data-stripe="number" placeholder="**** **** **** ****" pattern="[\d ]*"/>
      </div>

      <div class='form-row'>

        <div class="col-xs-3 form-group">
          <label class="control-label" for="cvc">CVC</label>
          <input type="text" class="form-control" data-stripe="cvc" id="cvc" placeholder="***" pattern="\d*"/>
          <%= image_tag("credit-card-icon.png", :size => "30x30", alt: "Credit Card Icon") %>
        </div>

        <div class="col-xs-4 form-group">
          <label class="control-label">Expiration</label>
          <input type="text" class="form-control" id="exp-month" data-stripe="exp-month" placeholder="MM" pattern="\d*"/>
        </div>

        <div class="col-xs-4 form-group">
          <label class="control-label">&nbsp;</label>
          <input type="text" class="form-control" id="exp-year" data-stripe="exp-year" placeholder="YYYY" pattern="\d*"/>
        </div>

        <div class='form-row'>
          <div class='col-md-12 form-group'>
            <button class='form-control btn btn-primary submit-button' type='submit'>Submit Card Details</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div class='form-row'>
            <div class='col-xs-12 form-group'>
              <label class='control-label'>Card Number</label>
              <input type="text" class="form-control" data-stripe="number" placeholder="**** **** **** ****" pattern="[\d ]*"/>
            </div>
          </div>

          <div class='form-row'>
            <div class='col-xs-3 form-group'>
              <label class='control-label'>CVC</label>
              <input autocomplete='off' class='form-control' placeholder='***' size='4' type='text'>
            </div>

            <div class='col-xs-4 form-group'>
              <label class='control-label'>Expiration</label>
              <input class='form-control' placeholder='MM' size='2' type='text'>
            </div>

            <div class='col-xs-4 form-group'>
              <label class='control-label'>Â </label>
              <input class='form-control' placeholder='YYYY' size='4' type='text'>
            </div>
          </div>

          <div class='form-row'>
            <div class='col-md-12 form-group'>
              <button class='form-control btn btn-primary submit-button' type='submit'>Submit Card Details</button>
            </div>
          </div> -->
